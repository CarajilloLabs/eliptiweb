<div class="app-container">
  <header class="header">
    <div class="language-selector">
      <button
        *ngFor="let lang of languages"
        [class.active]="currentLanguage() === lang"
        (click)="changeLanguage(lang)"
        class="lang-btn"
        [attr.aria-label]="'Cambiar idioma a ' + languageLabels[lang]"
      >
        <span class="flag" *ngIf="lang !== 'val' && lang !== 'eu'">{{ languageFlags[lang] }}</span>
        <span class="flag flag-val" *ngIf="lang === 'val'">
          <svg viewBox="0 0 30 20" aria-hidden="true" focusable="false">
            <rect width="30" height="20" fill="#0045A5" />
            <rect x="6" width="24" height="20" fill="#FCD116" />
            <rect x="6" y="2" width="24" height="2" fill="#C60B1E" />
            <rect x="6" y="6" width="24" height="2" fill="#C60B1E" />
            <rect x="6" y="10" width="24" height="2" fill="#C60B1E" />
            <rect x="6" y="14" width="24" height="2" fill="#C60B1E" />
            <rect x="6" y="18" width="24" height="2" fill="#C60B1E" />
          </svg>
        </span>
        <span class="flag flag-eu" *ngIf="lang === 'eu'">
          <img src="img/ikurrina.png" alt="Ikurriña" class="flag-img" />
        </span>
        <span class="lang-label">{{ languageLabels[lang] }}</span>
      </button>
    </div>
  </header>

  <main class="main-content">
    <div class="logo-container">
      <div class="logo-placeholder">
        <svg width="120" height="120" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="60" cy="60" r="55" fill="#FF6B35" opacity="0.2"/>
          <path d="M60 20 L75 50 L50 50 Z" fill="#FF6B35"/>
          <path d="M60 100 L45 70 L70 70 Z" fill="#FF6B35"/>
          <circle cx="60" cy="60" r="15" fill="#FFD23F"/>
        </svg>
      </div>
    </div>

    <div class="critiques-container">
      <article class="critique-card" [@fadeIn]="animationState()">
        <h1 class="critique-title">{{ currentTranslation().title }}</h1>
        <button
          type="button"
          class="audio-btn"
          (click)="playMainCritique()"
        >
          <span class="audio-icon">
            <span class="audio-wave"></span>
          </span>
          <span class="audio-label">Escuchar crítica</span>
        </button>

        <div class="separator"></div>

        <div class="critique-content">
          <p *ngFor="let paragraph of currentTranslation().content" class="paragraph">
            {{ paragraph }}
          </p>
        </div>

        <div class="separator"></div>
      </article>

      <article class="critique-card critique-card-infantil" [@fadeIn]="animationState()">
        <h1 class="critique-title">{{ currentTranslationInfantil().title }}</h1>
        <button
          type="button"
          class="audio-btn"
          (click)="playChildCritique()"
        >
          <span class="audio-icon">
            <span class="audio-wave"></span>
          </span>
          <span class="audio-label">Escuchar crítica infantil</span>
        </button>

        <div class="separator"></div>

        <div class="critique-content">
          <p *ngFor="let paragraph of currentTranslationInfantil().content" class="paragraph">
            {{ paragraph }}
          </p>
        </div>

        <div class="separator"></div>
      </article>
    </div>
  </main>
</div>
